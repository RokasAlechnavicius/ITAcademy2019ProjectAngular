<form class="jobForm" [formGroup]="jobForm" (ngSubmit)="addJob()">
    <div class="example-container">
        <h1>Job registration</h1>

        <div class="job-form-field">
            <mat-form-field appearance="outline">
                <mat-label>Idea</mat-label>
                <input formControlName="idea" matInput placeholder="" required maxlength="64" />
                <mat-hint>Max 64 characters</mat-hint>
                <mat-error *ngIf="jobForm.controls['idea'].invalid && jobForm.controls['idea'].touched">
                    <mat-error *ngIf="jobForm.controls['idea'].hasError('whitespace')">
                        Please enter valid Idea field data, cannot be empty
                    </mat-error>
                    <mat-error *ngIf="jobForm.controls['idea'].hasError('maxlength')">
                        Idea field cannot be longer than 64 characters
                    </mat-error>
                </mat-error>
            </mat-form-field>
        </div>
        <div class="job-form-field">
            <mat-form-field appearance="outline">
                <mat-label>Organization</mat-label>
                <input formControlName="organisation" matInput placeholder="" required maxlength="64" />
                <mat-hint>Max 64 characters</mat-hint>
                <mat-error *ngIf="jobForm.controls.organisation.invalid && jobForm.controls.organisation.touched">
                    <mat-error *ngIf="jobForm.controls.organisation.hasError('whitespace')">
                        Organisation field cannot be empty
                    </mat-error>
                    <mat-error *ngIf="jobForm.controls.organisation.hasError('maxlength')">
                        Organization field cannot be longer than 64 characters
                    </mat-error>
                </mat-error>
            </mat-form-field>
        </div>
        <div class="job-form-field">
            <mat-form-field appearance="outline">
                <mat-label>Region</mat-label>
                <mat-select formControlName="region" required>
                    <mat-option *ngFor="let region of regions" [value]="region">
                        {{ region }}
                    </mat-option>
                </mat-select>
                <mat-hint>Select from a list</mat-hint>
                <mat-error *ngIf="jobForm.controls.region.invalid && jobForm.controls.region.touched">
                    <mat-error
                        *ngIf="
                            jobForm.controls.region.hasError('required') ||
                            jobForm.controls.region.hasError('whitespace')
                        "
                    >
                        Region field cannot be empty
                    </mat-error>
                    <mat-error *ngIf="jobForm.controls.region.hasError('maxlength')">
                        Region field cannot be longer than 64 characters
                    </mat-error>
                </mat-error>
            </mat-form-field>
        </div>
        <div class="job-form-field">
            <mat-form-field appearance="outline">
                <mat-label>Category</mat-label>
                <mat-select formControlName="category" required>
                    <mat-option *ngFor="let category of categories" [value]="category">
                        {{ category }}
                    </mat-option>
                </mat-select>
                <mat-hint>Select from a list</mat-hint>
                <mat-error *ngIf="jobForm.controls.category.invalid && jobForm.controls.category.touched">
                    <mat-error
                        *ngIf="
                            jobForm.controls.category.hasError('required') ||
                            jobForm.controls.category.hasError('whitespace')
                        "
                    >
                        Category field cannot be empty
                    </mat-error>
                    <mat-error *ngIf="jobForm.controls.category.hasError('maxlength')">
                        Category field cannot be longer than 32 characters
                    </mat-error>
                </mat-error>
            </mat-form-field>
        </div>
        <div class="job-form-field">
            <mat-form-field appearance="outline">
                <mat-label>Event start date</mat-label>
                <input
                    matInput
                    [min]="minDate"
                    formControlName="date"
                    [matDatepicker]="picker"
                    placeholder="Choose a date"
                    required
                />
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
                <mat-hint></mat-hint>
                <mat-error *ngIf="jobForm.controls.date.invalid && jobForm.controls.date.touched">
                    <mat-error *ngIf="jobForm.controls.date.hasError('required')">
                        Date field cannot be empty
                    </mat-error>
                </mat-error>
            </mat-form-field>
        </div>
    </div>
    <div class="example-container">
        <h1>Contact</h1>
        <div class="job-form-field">
            <mat-form-field appearance="outline">
                <mat-label>Contact person</mat-label>
                <input formControlName="contactName" matInput placeholder="" required maxlength="64" />
                <mat-hint>Max 64 characters</mat-hint>
                <mat-error *ngIf="jobForm.controls.contactName.invalid && jobForm.controls.contactName.touched">
                    <mat-error
                        *ngIf="
                            jobForm.controls.contactName.hasError('required') ||
                            jobForm.controls.contactName.hasError('whitespace')
                        "
                    >
                        Contact person field cannot be empty
                    </mat-error>
                    <mat-error *ngIf="jobForm.controls.contactName.hasError('maxlength')">
                        Contact person field cannot be longer than 64 characters
                    </mat-error>
                </mat-error>
            </mat-form-field>
        </div>
        <div class="job-form-field">
            <mat-form-field appearance="outline">
                <mat-label>Phone number</mat-label>
                <input type="number" formControlName="phone" matInput placeholder="" required maxlength="12" />
                <mat-hint></mat-hint>
                <mat-error *ngIf="jobForm.controls.phone.invalid && jobForm.controls.phone.touched">
                    <mat-error
                        *ngIf="
                            jobForm.controls.phone.hasError('required') || jobForm.controls.phone.hasError('whitespace')
                        "
                    >
                        Phone field cannot be empty
                    </mat-error>
                    <mat-error *ngIf="jobForm.controls.phone.hasError('max')">
                        Phone field cannot be longer than 12 numbers
                    </mat-error>
                </mat-error>
            </mat-form-field>
        </div>
        <div class="job-form-field">
            <mat-form-field appearance="outline">
                <mat-label>Website</mat-label>
                <input formControlName="website" matInput placeholder="" maxlength="32" />
                <mat-hint>Max 32 characters, not required</mat-hint>
                <mat-error *ngIf="jobForm.controls.website.invalid && jobForm.controls.website.touched">
                    <mat-error *ngIf="jobForm.controls.website.hasError('maxlength')">
                        Website field cannot be longer than 32 characters
                    </mat-error>
                </mat-error>
            </mat-form-field>
        </div>
        <div class="job-form-field">
            <mat-form-field appearance="outline">
                <mat-label>Email</mat-label>
                <input formControlName="email" matInput placeholder="" maxlength="32" />
                <mat-hint>Must be a valid email if present, not required, max 32 characters</mat-hint>
                <mat-error *ngIf="jobForm.controls.email.invalid && jobForm.controls.email.touched">
                    <mat-error *ngIf="jobForm.controls.email.hasError('maxlength')">
                        Website field cannot be longer than 32 characters
                    </mat-error>
                    <mat-error *ngIf="jobForm.controls.email.hasError('email')">
                        Not a valid email address
                    </mat-error>
                </mat-error>
            </mat-form-field>
        </div>
    </div>
    <div class="example-container">
        <h1>Description</h1>
        <div class="job-form-field">
            <mat-form-field appearance="outline">
                <mat-label>Description</mat-label>
                <textarea
                    class="textareainput"
                    matInput
                    formControlName="description"
                    placeholder=""
                    maxlength="512"
                    required
                >
                </textarea>
                <mat-hint>Max 512 characters</mat-hint>
                <mat-error *ngIf="jobForm.controls.description.invalid && jobForm.controls.description.touched">
                    <mat-error
                        *ngIf="
                            jobForm.controls.description.hasError('required') ||
                            jobForm.controls.description.hasError('whitespace')
                        "
                    >
                        Description field cannot be empty
                    </mat-error>
                    <mat-error *ngIf="jobForm.controls.description.hasError('maxlength')">
                        Description field cannot be longer than 512 characters
                    </mat-error>
                </mat-error>
            </mat-form-field>
        </div>
        <button class="submit-event-register-button" [disabled]="!jobForm.valid" mat-raised-button type="submit">
            Register
        </button>
    </div>
</form>
